<div ui-view="viewContent">
<form name="formCrearPersonanatural" ng-controller="PersonanaturalController" ng-submit="update()" novalidate>
<div ng-show ="searched">
    <alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)" >{{alert.msg}}</alert>
</div>

<fieldset>
    <legend>Datos principales <h6>Los campos marcados con (*) son obligatorios</h6></legend>
    <div class="row">
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.tipodocumento.$invalid && formCrearPersonanatural.submitted}">
                <label>Tipo documento(*)</label>
                <select name="tipodocumento" ng-options="tipodocumento.id as tipodocumento.abreviatura for tipodocumento in tipodocumentos" ng-model="persona.tipodocumento.id" class="form-control" required autofocus>
                </select>
                <div ng-show="formCrearPersonanatural.tipodocumento.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.tipodocumento.$error.required">
                        Ingrese sexo.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.numerodocumento.$invalid && formCrearPersonanatural.submitted}">
                <label>Nro documento(*)</label>
                <input name="numerodocumento" type="text" ng-model="persona.numerodocumento"  ui-keyup="{'enter':'keypressCallback($event)'}" ng-pattern="/^[0-9]+$/" ng-minlength="1" ng-maxlength="20" class="form-control" placeholder="Nro documento" required/>
                <div ng-show="formCrearPersonanatural.numerodocumento.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.numerodocumento.$error.required">
                        Ingrese numero de documento.
                    </p>
                    <p class="help-block" ng-show="formCrearPersonanatural.numerodocumento.$error.minlength">
                        Minimo 1 caracter.
                    </p>
                    <p class="help-block" ng-show="formCrearPersonanatural.numerodocumento.$error.maxlength">
                        Maximo 20 caracteres.
                    </p>
                    <p class="help-block" ng-show="formCrearPersonanatural.numerodocumento.$error.pattern">
                        Numero de documento no valido.
                    </p>
                </div>
            </div>
        </div>
        <div class='col-sm-4'>
            <div class="form-group" style="height: 59px;">
                <label>&nbsp;</label>
                <div class="form-control-static">
                    <button type="button" class="btn btn-default" ng-click="findByTipoNumeroDocumento()">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.apellidopaterno.$invalid && formCrearPersonanatural.submitted}">
                <label>Ap. paterno(*)</label>
                <input name="apellidopaterno" type="text" ng-model="persona.apellidopaterno" ng-minlength="1" ng-maxlength="60" class="form-control" placeholder="Apellido paterno" required/>
                <div ng-show="formCrearPersonanatural.apellidopaterno.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.apellidopaterno.$error.required">
                        Ingrese apellido paterno.
                    </p>
                    <p class="help-block" ng-show="formCrearPersonanatural.apellidopaterno.$error.minlength">
                        Minimo 1 caracter.
                    </p>
                    <p class="help-block" ng-show="formCrearPersonanatural.apellidopaterno.$error.maxlength">
                        Maximo 60 caracteres.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.apellidomaterno.$invalid && formCrearPersonanatural.submitted}">
                <label>Ap. materno(*)</label>
                <input name="apellidomaterno" type="text" ng-model="persona.apellidomaterno" ng-minlength="1" ng-maxlength="60" class="form-control" placeholder="Apellido materno" required/>
                <div ng-show="formCrearPersonanatural.apellidomaterno.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.apellidomaterno.$error.required">
                        Ingrese apellido materno.
                    </p>
                    <p class="help-block" ng-show="formCrearPersonanatural.apellidomaterno.$error.minlength">
                        Minimo 1 caracter.
                    </p>
                    <p class="help-block" ng-show="formCrearPersonanatural.apellidomaterno.$error.maxlength">
                        Maximo 60 caracteres.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.nombres.$invalid && formCrearPersonanatural.submitted}">
                <label>Nombres(*)</label>
                <input name="nombres" type="text" ng-model="persona.nombres" ng-minlength="1" ng-maxlength="70" class="form-control" placeholder="Nombres" required  />
                <div ng-show="formCrearPersonanatural.nombres.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.nombres.$error.required">
                        Ingrese nombres.
                    </p>
                    <p class="help-block" ng-show="formCrearPersonanatural.nombres.$error.minlength">
                        Minimo 1 caracter.
                    </p>
                    <p class="help-block" ng-show="formCrearPersonanatural.nombres.$error.maxlength">
                        Maximo 70 caracteres.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.fechanacimiento.$invalid && formCrearPersonanatural.submitted}">
                <label>Fecha nacimiento(*)</label>
                <div class="input-group">
                    <input name="fechanacimiento" type="text"
                           max="'2015-06-22'"
                           day-format = "dd"
                           month-format = "MM"
                           year-format = "yyyy"
                           datepicker-popup="dd/MM/yyyy"
                           ng-model="persona.fechanacimiento"
                           class="form-control" placeholder="dd/mm/yyyy" required=>
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </button>
                    </span>
                </div>
                <div ng-show="formCrearPersonanatural.fechanacimiento.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.fechanacimiento.$error.required">
                        Ingrese fecha.
                    </p>
                    <p class="help-block" ng-show="formCrearPersonanatural.fechanacimiento.$invalid">
                        Fecha no valida.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.sexo.$invalid && formCrearPersonanatural.submitted}">
                <label>Sexo(*)</label>
                <select name="sexo" ng-options="sexo as sexo for sexo in sexos" ng-model="persona.sexo" class="form-control" required></select>
                <div ng-show="formCrearPersonanatural.sexo.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.sexo.$error.required">
                        Ingrese sexo.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.estadocivil.$invalid && formCrearPersonanatural.submitted}">
                <label>Estado civil</label>
                <select name="estadocivil" ng-options="estadocivil as estadocivil for estadocivil in estadosciviles" ng-model="persona.estadocivil" class="form-control"></select>
                <div ng-show="formCrearPersonanatural.estadocivil.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.estadocivil.$invalid">
                        Estado civil invalido.
                    </p>
                </div>
            </div>
        </div>
    </div>
</fieldset>
<fieldset>
    <legend>Datos adicionales</legend>
    <div class="row">
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.ocupacion.$invalid && formCrearPersonanatural.submitted}">
                <label>Ocupacion</label>
                <input name="ocupacion" type="text" ng-model="persona.ocupacion" ng-maxlength="70" class="form-control" placeholder="Ocupacion" />
                <div ng-show="formCrearPersonanatural.nombres.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.ocupacion.$error.maxlength">
                        Maximo 70 caracteres.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.direccion.$invalid && formCrearPersonanatural.submitted}">
                <label>Direccion</label>
                <input name="direccion" type="text" ng-model="persona.direccion" ng-maxlength="70" class="form-control" placeholder="Direccion" />
                <div ng-show="formCrearPersonanatural.direccion.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.direccion.$error.maxlength">
                        Maximo 70 caracteres.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.referencia.$invalid && formCrearPersonanatural.submitted}">
                <label>Referencia</label>
                <input name="referencia" type="text" ng-model="persona.referencia" ng-maxlength="70" class="form-control" placeholder="Referencia" />
                <div ng-show="formCrearPersonanatural.referencia.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.referencia.$error.maxlength">
                        Maximo 70 caracteres.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.telefono.$invalid && formCrearPersonanatural.submitted}">
                <label>Telefono</label>
                <input name="telefono" type="text" ng-model="persona.telefono" ng-maxlength="70" class="form-control" placeholder="Telefono" />
                <div ng-show="formCrearPersonanatural.telefono.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.telefono.$error.maxlength">
                        Maximo 70 caracteres.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.celular.$invalid && formCrearPersonanatural.submitted}">
                <label>Celular</label>
                <input name="celular" type="text" ng-model="persona.celular" ng-maxlength="70" class="form-control" placeholder="Celular" />
                <div ng-show="formCrearPersonanatural.celular.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.celular.$error.maxlength">
                        Maximo 70 caracteres.
                    </p>
                </div>
            </div>
        </div>
        <div class="col-sm-4">
            <div class="form-group" ng-class="{ 'has-error' : formCrearPersonanatural.email.$invalid && formCrearPersonanatural.submitted}">
                <label>Email</label>
                <input name="email" type="email" ng-model="persona.email" ng-maxlength="70" class="form-control" placeholder="correo@dominio.com"/>
                <div ng-show="formCrearPersonanatural.email.$invalid && formCrearPersonanatural.submitted">
                    <p class="help-block" ng-show="formCrearPersonanatural.email.$invalid">
                        Email incorrecto.
                    </p>
                    <p class="help-block" ng-show="formCrearPersonanatural.email.$error.maxlength">
                        Maximo 70 caracteres.
                    </p>
                </div>
            </div>
        </div>
    </div>
</fieldset>
<button type="submit" class="btn btn-primary" ng-disabled="buttonDisableState">Guardar</button>
<button type="button" class="btn btn-default" ng-click="cancel()">Cancelar</button>
</form>
</div>